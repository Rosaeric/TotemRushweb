<!DOCTYPE html>
<html lang="en">
<head>
  <!--
    TotemRush — Landing/Portal Page
    Refactor date: 2025-11-02
    Notes:
    - Replace /img/og.jpg with your real social share image (1200x630)
    - Upload /img/logo.png as your logo (transparent PNG recommended)
  -->

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>TotemRush — Official Minecraft Server</title>
  <meta name="description" content="TotemRush is a new and awesome Minecraft server. Join with IP TotemRush.org." />
  <link rel="canonical" href="https://www.totemrush.org/" />

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="TotemRush — Official Website" />
  <meta property="og:site_name" content="TotemRush" />
  <meta property="og:description" content="Play on TotemRush! IP: TotemRush.org" />
  <meta property="og:url" content="https://www.totemrush.org/" />
  <meta property="og:image" content="/img/og.jpg" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="TotemRush — Official Website" />
  <meta name="twitter:description" content="Play on TotemRush! IP: TotemRush.org" />
  <meta name="twitter:image" content="/img/og.jpg" />

  <!-- Theme color for mobile address bar -->
  <meta name="theme-color" content="#0e0f13" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap" rel="stylesheet" />

  <!-- Styles -->
  <link rel="stylesheet" href="/css/stylesheet.css" />

  <!-- Optional icons (uncomment and add files if you have them)
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32.png" />
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png" />
  -->

  <!-- Structured data (Organization) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "TotemRush",
    "url": "https://www.totemrush.org/",
    "logo": "https://www.totemrush.org/img/logo.png",
    "sameAs": [
      "https://discord.gg/jwKXpebvN8",
      "https://store.totemrush.org"
    ]
  }
  </script>

  <!-- DNS Prefetch for external domains -->
  <link rel="dns-prefetch" href="//discord.gg" />
  <link rel="dns-prefetch" href="//store.totemrush.org" />
</head>
<body>
  <!-- Decorative particles background (driven by your JS) -->
  <div id="tsparticles" aria-hidden="true"></div>

  <noscript>
    <div style="padding:1rem; text-align:center; background:#111; color:#fff; font-family: 'Open Sans', system-ui, sans-serif;">
      JavaScript is required for live player count and effects. You can still join using IP <strong>TotemRush.org</strong>.
    </div>
  </noscript>

  <main class="container" role="main">
    <header class="logo" aria-label="TotemRush logo">
      <img src="/img/logo.png" alt="TotemRush logo" width="256" height="256" />
    </header>

    <nav class="items" aria-label="Primary">
      <!-- Discord -->
      <a href="https://discord.gg/jwKXpebvN8" class="item" target="_blank" rel="noopener noreferrer" aria-label="Join our Discord (opens in a new tab)">
        <div>
          <img src="/img/forums.png" alt="Discord icon" class="img" />
          <p class="subtitle">chat on our</p>
          <p class="title">Discord</p>
        </div>
      </a>

      <!-- Store -->
      <a href="https://store.totemrush.org" class="item" target="_blank" rel="noopener noreferrer" aria-label="Visit our Store (opens in a new tab)">
        <div>
          <img src="/img/store.png" alt="Store icon" class="img" />
          <p class="subtitle">donate on our</p>
          <p class="title">Store</p>
        </div>
      </a>

      <!-- Support (on-page form) -->
      <a href="#support-request" class="item" aria-label="Support">
        <div>
          <img src="/img/key.png" alt="Support icon" class="img" />
          <p class="subtitle">get help on our</p>
          <p class="title">Support</p>
        </div>
      </a>
    </nav>

    <section class="playercount" id="playercount">
      <!-- Set both your IP and port below for your JS to read -->
      <p>
        Join <span id="sip" data-ip="TotemRush.org" data-port="25870"></span>
        other players on <span id="ip">TotemRush.org</span>
      </p>
    </section>

    <!-- Support Request (email-based, no backend) -->
    <section class="section" id="support-request" aria-labelledby="support-title" style="max-width:1100px; margin:2rem auto; padding:0 1rem;">
      <h2 id="support-title" style="text-align:center; margin-bottom:1rem;">Submit a Support Request</h2>
      <form id="supportForm" class="card" onsubmit="return buildEmail();" style="background: rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.12); border-radius:18px; padding:1.1rem;">
        <label for="ign"><strong>IGN</strong></label><br>
        <input id="ign" name="ign" type="text" required placeholder="Your Minecraft name" style="width:100%; margin:.4rem 0 1rem; padding:.6rem; border-radius:10px; border:1px solid rgba(255,255,255,0.12); background:rgba(255,255,255,0.06); color:#fff;">

        <label for="category"><strong>Category</strong></label><br>
        <select id="category" name="category" required style="width:100%; margin:.4rem 0 1rem; padding:.6rem; border-radius:10px; border:1px solid rgba(255,255,255,0.12); background:rgba(255,255,255,0.06); color:#fff;">
          <option value="Billing">Billing & Store</option>
          <option value="Gameplay">Gameplay</option>
          <option value="Bug">Bug Report</option>
          <option value="Player Report">Player Report</option>
          <option value="Appeal">Appeal</option>
          <option value="Other">Other</option>
        </select>

        <label for="subject"><strong>Subject</strong></label><br>
        <input id="subject" name="subject" type="text" required placeholder="Short title" style="width:100%; margin:.4rem 0 1rem; padding:.6rem; border-radius:10px; border:1px solid rgba(255,255,255,0.12); background:rgba(255,255,255,0.06); color:#fff;">

        <label for="details"><strong>Details</strong></label><br>
        <textarea id="details" name="details" rows="6" required placeholder="Describe the issue. Include order ID, timestamps, steps to reproduce, etc." style="width:100%; margin:.4rem 0 1rem; padding:.6rem; border-radius:10px; border:1px solid rgba(255,255,255,0.12); background:rgba(255,255,255,0.06); color:#fff;"></textarea>

        <div style="display:flex; gap:.6rem; flex-wrap:wrap;">
          <button type="submit" class="btn" style="padding:.9rem 1.2rem; border-radius:14px; border:1px solid rgba(255,255,255,0.12); background:rgba(255,255,255,0.06); color:#fff; font-weight:700;">Open Email Draft</button>
          <button type="button" class="btn" onclick="copyRequest();" style="padding:.9rem 1.2rem; border-radius:14px; border:1px solid rgba(255,255,255,0.12); background:rgba(255,255,255,0.06); color:#fff; font-weight:700;">Copy Details</button>
        </div>
        <p class="muted" style="margin-top:.6rem; color:#a9b1bd;">This creates an email to <span class="kbd" style="font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; background:#0b0c10; border:1px solid rgba(255,255,255,0.12); border-radius:6px; padding:0 .35rem;">support@totemrush.org</span>.</p>
      </form>
    </section>
  </main>

  <script>
    // Build a prefilled mailto from form inputs (no backend needed)
    function buildEmail() {
      var ign = document.getElementById('ign').value.trim();
      var cat = document.getElementById('category').value;
      var subject = document.getElementById('subject').value.trim();
      var details = document.getElementById('details').value.trim();

      var lines = [
        'IGN: ' + ign,
        'Category: ' + cat,
        'Subject: ' + subject,
        'Details:',
        details
      ];
      var body = encodeURIComponent(lines.join('\n'));
      var mailto = 'mailto:support@totemrush.org?subject=' + encodeURIComponent('[Support][' + cat + '] ' + subject) + '&body=' + body;

      window.location.href = mailto;
      return false; // prevent default submit
    }

    // Copy request body to clipboard
    function copyRequest() {
      var ign = document.getElementById('ign').value.trim();
      var cat = document.getElementById('category').value;
      var subject = document.getElementById('subject').value.trim();
      var details = document.getElementById('details').value.trim();
      var text = 'IGN: ' + ign + '\nCategory: ' + cat + '\nSubject: ' + subject + '\nDetails:\n' + details;

      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(text).then(function(){
          alert('Details copied to clipboard.');
        }, function(){
          alert('Copy failed. Please copy manually.');
        });
      } else {
        // Fallback for older browsers
        var ta = document.createElement('textarea');
        ta.value = text; document.body.appendChild(ta); ta.select();
        try { document.execCommand('copy'); alert('Details copied to clipboard.'); }
        catch(e) { alert('Copy failed. Please copy manually.'); }
        document.body.removeChild(ta);
      }
    }
  </script>

  <!-- Scripts -->
  <script src="/js/firefly.js" type="text/javascript" defer></script>
  <script src="/js/main.js" type="text/javascript" defer></script>

  <!--
    Credits:
    Original template by Billy (https://bybilly.uk). Heavily cleaned up and modernized.
  -->
</body>
</html>
